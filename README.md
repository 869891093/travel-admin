# è·Ÿå›¢æ¸¸å°ç¨‹åº

ä¸€ä¸ªåŸºäºå¾®ä¿¡å°ç¨‹åºäº‘å¼€å‘çš„è·Ÿå›¢æ¸¸é¢„è®¢å¹³å°ï¼Œæä¾›æ—…æ¸¸äº§å“å±•ç¤ºã€é¢„è®¢ã€è®¢å•ç®¡ç†ç­‰åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ  é¦–é¡µ
- è½®æ’­å›¾å±•ç¤ºçƒ­é—¨æ—…æ¸¸ç›®çš„åœ°
- äº§å“å¡ç‰‡åˆ—è¡¨ï¼Œæ˜¾ç¤ºäº§å“å›¾ç‰‡ã€ä»·æ ¼ç­‰ä¿¡æ¯
- æœç´¢åŠŸèƒ½ï¼Œæ”¯æŒæŒ‰å…³é”®è¯æœç´¢äº§å“
- ä¸‹æ‹‰åˆ·æ–°å’Œä¸Šæ‹‰åŠ è½½æ›´å¤š

### ğŸ—ºï¸ åŒºåŸŸå¯¼èˆª
- çƒ­é—¨åŒºåŸŸå¿«é€Ÿå¯¼èˆª
- æŒ‰å­—æ¯æ’åºçš„å…¨éƒ¨åŒºåŸŸåˆ—è¡¨
- æ”¯æŒåŒºåŸŸç­›é€‰äº§å“

### ğŸ“‹ æˆ‘çš„è®¢å•
- è®¢å•çŠ¶æ€ç®¡ç†ï¼ˆå¾…ä»˜æ¬¾ã€å·²ç¡®è®¤ã€å·²å®Œæˆï¼‰
- è®¢å•è¯¦æƒ…æŸ¥çœ‹
- æ”¯ä»˜ã€å–æ¶ˆè®¢å•ç­‰æ“ä½œ
- è®¢å•çŠ¶æ€åˆ‡æ¢

### ğŸ¯ äº§å“è¯¦æƒ…
- äº§å“å›¾ç‰‡è½®æ’­å±•ç¤º
- ä»·æ ¼æ—¥å†ï¼Œæ”¯æŒæˆäºº/å„¿ç«¥ä»·æ ¼åˆ‡æ¢
- è¡Œç¨‹å®‰æ’ã€è´¹ç”¨è¯´æ˜ã€é¢„è®¢é¡»çŸ¥
- æ—¥æœŸé€‰æ‹©å’Œä»·æ ¼å±•ç¤º

### ğŸ“ é¢„è®¢é¡µé¢
- äººæ•°é€‰æ‹©ï¼ˆæˆäºº/å„¿ç«¥ï¼‰
- è”ç³»äººä¿¡æ¯å¡«å†™
- ç‰¹æ®Šè¦æ±‚è¾“å…¥
- è´¹ç”¨æ˜ç»†è®¡ç®—
- è®¢å•æäº¤

## æŠ€æœ¯æ¶æ„

- **å‰ç«¯**: å¾®ä¿¡å°ç¨‹åºåŸç”Ÿå¼€å‘
- **åç«¯**: å¾®ä¿¡äº‘å¼€å‘
- **æ•°æ®åº“**: äº‘æ•°æ®åº“
- **å­˜å‚¨**: äº‘å­˜å‚¨
- **å‡½æ•°**: äº‘å‡½æ•°

## æ•°æ®åº“è®¾è®¡

### é›†åˆç»“æ„

#### banners (è½®æ’­å›¾)
```javascript
{
  id: Number,
  imageUrl: String,
  title: String,
  sort: Number,
  status: String
}
```

#### products (äº§å“)
```javascript
{
  title: String,
  description: String,
  coverImage: String,
  images: Array,
  tags: Array,
  adultPrice: Number,
  childPrice: Number,
  region: String,
  status: String,
  itinerary: Array,
  fees: Array,
  notices: Array,
  createTime: Date
}
```

#### regions (åŒºåŸŸ)
```javascript
{
  name: String,
  imageUrl: String,
  productCount: Number,
  isHot: Boolean,
  sort: Number,
  status: String
}
```

#### orders (è®¢å•)
```javascript
{
  orderNo: String,
  productId: String,
  productTitle: String,
  productImage: String,
  travelDate: String,
  adultCount: Number,
  childCount: Number,
  adultPrice: Number,
  childPrice: Number,
  adultCost: Number,
  childCost: Number,
  totalPrice: Number,
  contactName: String,
  contactPhone: String,
  specialRequirements: String,
  status: String,
  openid: String,
  createTime: Date,
  updateTime: Date
}
```

## äº‘å‡½æ•°

### getOpenid
è·å–ç”¨æˆ·openidï¼Œç”¨äºç”¨æˆ·èº«ä»½è¯†åˆ«

### initDatabase
åˆå§‹åŒ–æ•°æ®åº“ï¼Œåˆ›å»ºç¤ºä¾‹æ•°æ®

## å®‰è£…å’Œéƒ¨ç½²

1. **å…‹éš†é¡¹ç›®**
```bash
git clone [é¡¹ç›®åœ°å€]
```

2. **é…ç½®äº‘å¼€å‘ç¯å¢ƒ**
- åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æ‰“å¼€é¡¹ç›®
- ç¡®ä¿äº‘å¼€å‘ç¯å¢ƒIDä¸ºï¼š`new-travel-2gy6d6oy7ee5fb0e`

3. **éƒ¨ç½²äº‘å‡½æ•°**
```bash
# éƒ¨ç½²getOpenidäº‘å‡½æ•°
cd cloudfunctions/getOpenid
npm install
# åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­å³é”®é€‰æ‹©"ä¸Šä¼ å¹¶éƒ¨ç½²"

# éƒ¨ç½²initDatabaseäº‘å‡½æ•°
cd cloudfunctions/initDatabase
npm install
# åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­å³é”®é€‰æ‹©"ä¸Šä¼ å¹¶éƒ¨ç½²"
```

4. **åˆå§‹åŒ–æ•°æ®åº“**
- åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­è°ƒç”¨`initDatabase`äº‘å‡½æ•°
- æˆ–è€…åœ¨å°ç¨‹åºä¸­æ·»åŠ åˆå§‹åŒ–æŒ‰é’®

5. **ç¼–è¯‘è¿è¡Œ**
- åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ç¼–è¯‘é¡¹ç›®
- åœ¨æ¨¡æ‹Ÿå™¨æˆ–çœŸæœºä¸Šæµ‹è¯•

## ä¸»é¢˜è‰²é…ç½®

ä¸»é¢˜è‰²ï¼š`#4b6e58`

åœ¨`app.wxss`ä¸­å·²é…ç½®CSSå˜é‡ï¼š
```css
--primary-color: #4b6e58;
--primary-light: #6b8e78;
--primary-dark: #2b4e38;
```

## é¡µé¢ç»“æ„

```
miniprogram/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index/          # é¦–é¡µ
â”‚   â”œâ”€â”€ region/         # åŒºåŸŸå¯¼èˆª
â”‚   â”œâ”€â”€ orders/         # æˆ‘çš„è®¢å•
â”‚   â””â”€â”€ product/
â”‚       â”œâ”€â”€ detail.js   # äº§å“è¯¦æƒ…
â”‚       â””â”€â”€ booking.js  # é¢„è®¢é¡µé¢
â”œâ”€â”€ components/         # ç»„ä»¶
â”œâ”€â”€ images/            # å›¾ç‰‡èµ„æº
â”œâ”€â”€ app.js            # åº”ç”¨å…¥å£
â”œâ”€â”€ app.json          # åº”ç”¨é…ç½®
â””â”€â”€ app.wxss          # å…¨å±€æ ·å¼
```

## åŠŸèƒ½è¯´æ˜

### æœç´¢åŠŸèƒ½
- é¦–é¡µæ”¯æŒæŒ‰äº§å“æ ‡é¢˜æœç´¢
- åŒºåŸŸå¯¼èˆªæ”¯æŒæŒ‰åŒºåŸŸåç§°æœç´¢

### ä»·æ ¼æ—¥å†
- æ”¯æŒæˆäºº/å„¿ç«¥ä»·æ ¼åˆ‡æ¢
- åŠ¨æ€è®¡ç®—ä¸åŒæ—¥æœŸçš„ä»·æ ¼
- å‘¨æœ«ä»·æ ¼è‡ªåŠ¨ä¸Šæµ®

### è®¢å•ç®¡ç†
- è®¢å•çŠ¶æ€ï¼šå¾…ä»˜æ¬¾ã€å·²ç¡®è®¤ã€å·²å®Œæˆã€å·²å–æ¶ˆ
- æ”¯æŒè®¢å•æ”¯ä»˜ã€å–æ¶ˆç­‰æ“ä½œ
- è®¢å•åˆ—è¡¨åˆ†é¡µåŠ è½½

### æ•°æ®åŒæ­¥
- æ‰€æœ‰æ•°æ®é€šè¿‡äº‘æ•°æ®åº“å­˜å‚¨
- æ”¯æŒå®æ—¶æ•°æ®åŒæ­¥
- ç”¨æˆ·æ•°æ®åŸºäºopenidéš”ç¦»

## æ³¨æ„äº‹é¡¹

1. **ç¯å¢ƒé…ç½®**
   - ç¡®ä¿äº‘å¼€å‘ç¯å¢ƒIDæ­£ç¡®é…ç½®
   - æ£€æŸ¥äº‘å‡½æ•°æƒé™è®¾ç½®

2. **å›¾ç‰‡èµ„æº**
   - ç¤ºä¾‹ä¸­ä½¿ç”¨Unsplashå›¾ç‰‡ï¼Œå®é™…ä½¿ç”¨éœ€æ›¿æ¢ä¸ºè‡ªæœ‰å›¾ç‰‡
   - å»ºè®®å°†å›¾ç‰‡ä¸Šä¼ åˆ°äº‘å­˜å‚¨

3. **æ”¯ä»˜åŠŸèƒ½**
   - å½“å‰æ”¯ä»˜åŠŸèƒ½ä¸ºæ¨¡æ‹Ÿå®ç°
   - å®é™…ä½¿ç”¨éœ€æ¥å…¥å¾®ä¿¡æ”¯ä»˜

4. **æ•°æ®å®‰å…¨**
   - ç”¨æˆ·æ•°æ®é€šè¿‡openidéš”ç¦»
   - æ•æ„Ÿæ“ä½œéœ€è¦æƒé™éªŒè¯

## æ‰©å±•åŠŸèƒ½

å¯ä»¥è€ƒè™‘æ·»åŠ çš„åŠŸèƒ½ï¼š
- ç”¨æˆ·ç™»å½•æ³¨å†Œ
- æ”¶è—åŠŸèƒ½
- è¯„ä»·ç³»ç»Ÿ
- å®¢æœèŠå¤©
- åœ°å›¾å¯¼èˆª
- å¤©æ°”ä¿¡æ¯
- ä¼˜æƒ åˆ¸ç³»ç»Ÿ

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚

